<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <img src="../code/TB1CPyDQFXXXXX4XpXXXXXXXXXX_!!0-item_pic.jpg_430x430q90.jpg" alt=""
        style="width: 200px;height: 200px;">
    <h3>猛男背心</h3>
    <span id="price" value="66">66</span>
    <br>
    <input type="button" id="cut" value="-">
    <input type="text" id="buy_number" value="5">
    <input type="button" id="add" value="+">
    <br>
    总价：<p id="zongjia" value="66"></p>


</body>
<!-- 需求：模拟一个购物车
     1.商品有库存上限
     2.商品增减时，库存减少
     3.商品购买数量最少为1
     4.显示商品单价
     5.显示购物车总价 -->
<script>
    var price = document.getElementById("price");
    var cut = document.getElementById("cut");
    var buy_number = document.getElementById("buy_number");
    var add = document.getElementById("add");
    var zongjia = document.getElementById("zongjia");
    cut.onclick = function () {
        var buy_number_x = buy_number.value;
        buy_number_x--;
        if (buy_number_x <= 1) {
            buy_number_x = 1;
        }
        buy_number.value = buy_number_x;
        var price_x = price.innerHTML * buy_number_x;
        // console.log(price_x);
        buy_number.value = buy_number_x;
        zongjia.innerHTML = price_x;
    }
    add.onclick = function () {
        var buy_number_x = buy_number.value;
        buy_number_x++;
        if (buy_number_x >= 20) {
            buy_number_x = 20;
        }
        buy_number.value = buy_number_x;
        var price_x = price.innerHTML * buy_number_x;
        // console.log(price_x);
        buy_number.value = buy_number_x;
        zongjia.innerHTML = price_x;
    }
    buy_number.oninput = function () {
        var buy_number_x = buy_number.value;
        if (buy_number_x <= 1) {
            buy_number_x = 1;
        } else if (buy_number_x >= 20) {
            buy_number_x = 20;
        }
        buy_number.value = buy_number_x;
        var price_x = price.innerHTML * buy_number_x;
        // console.log(price_x);
        buy_number.value = buy_number_x;
        zongjia.innerHTML = price_x;
    }
</script>

</html>